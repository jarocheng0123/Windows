function c(){var r=window.parent.location.href,o=new URL(r),t=o.pathname,n=t.split("/"),a=n[n.length-1];return a}var s=c();class e{constructor(o,t,n){this.wxid=o,this.nickname=t,this.avatar=n}}async function i(r){const o={wxid:r};try{const n=await(await fetch("http://127.0.0.1:21314/get-contact",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(o)})).json();return new e(n.wxid,n.nickname,n.avatar)}catch(t){return console.error("Error fetching contact:",t),null}}async function w(){const r={};try{const t=await(await fetch("http://127.0.0.1:21314/my_info",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)})).json();return new e(t.wxid,t.nickname,t.avatar)}catch(o){return console.error("Error fetching contact:",o),null}}window.get_contact=i;window.wxid=s;export{i as a,w as g,s as w};
